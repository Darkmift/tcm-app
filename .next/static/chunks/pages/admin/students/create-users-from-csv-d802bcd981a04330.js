(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{1023:function(r,t,e){"use strict";var n=e(4836);t.Z=void 0;var i=n(e(4938)),a=e(5893),o=(0,i.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},8987:function(r,t,e){"use strict";e.d(t,{Z:function(){return T}});var n=e(3366),i=e(7462),a=e(7294),o=e(8216),s=e(7909),l=e(4780),c=e(948),d=e(1657),u=e(3321),f=e(6010),h=e(917),g=e(1588),p=e(4867);function v(r){return(0,p.Z)("MuiCircularProgress",r)}(0,g.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x=e(5893);let m=["className","color","disableShrink","size","style","thickness","value","variant"],Z=r=>r,y,b,j,k,I=(0,h.F4)(y||(y=Z`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,h.F4)(b||(b=Z`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),P=r=>{let{classes:t,variant:e,color:n,disableShrink:i}=r,a={root:["root",e,`color${(0,o.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,o.Z)(e)}`,i&&"circleDisableShrink"]};return(0,l.Z)(a,v,t)},S=(0,c.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,t)=>{let{ownerState:e}=r;return[t.root,t[e.variant],t[`color${(0,o.Z)(e.color)}`]]}})(({ownerState:r,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main}),({ownerState:r})=>"indeterminate"===r.variant&&(0,h.iv)(j||(j=Z`
      animation: ${0} 1.4s linear infinite;
    `),I)),L=(0,c.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(r,t)=>t.svg})({display:"block"}),C=(0,c.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,t)=>{let{ownerState:e}=r;return[t.circle,t[`circle${(0,o.Z)(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(({ownerState:r,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:r})=>"indeterminate"===r.variant&&!r.disableShrink&&(0,h.iv)(k||(k=Z`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w)),$=a.forwardRef(function(r,t){let e=(0,d.Z)({props:r,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:s=!1,size:l=40,style:c,thickness:u=3.6,value:h=0,variant:g="indeterminate"}=e,p=(0,n.Z)(e,m),v=(0,i.Z)({},e,{color:o,disableShrink:s,size:l,thickness:u,value:h,variant:g}),Z=P(v),y={},b={},j={};if("determinate"===g){let r=2*Math.PI*((44-u)/2);y.strokeDasharray=r.toFixed(3),j["aria-valuenow"]=Math.round(h),y.strokeDashoffset=`${((100-h)/100*r).toFixed(3)}px`,b.transform="rotate(-90deg)"}return(0,x.jsx)(S,(0,i.Z)({className:(0,f.Z)(Z.root,a),style:(0,i.Z)({width:l,height:l},b,c),ownerState:v,ref:t,role:"progressbar"},j,p,{children:(0,x.jsx)(L,{className:Z.svg,ownerState:v,viewBox:"22 22 44 44",children:(0,x.jsx)(C,{className:Z.circle,style:y,ownerState:v,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u})})}))});function E(r){return(0,p.Z)("MuiLoadingButton",r)}let R=(0,g.Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),F=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],M=r=>{let{loading:t,loadingPosition:e,classes:n}=r,a={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${(0,o.Z)(e)}`],endIcon:[t&&`endIconLoading${(0,o.Z)(e)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${(0,o.Z)(e)}`]},s=(0,l.Z)(a,E,n);return(0,i.Z)({},n,s)},N=r=>"ownerState"!==r&&"theme"!==r&&"sx"!==r&&"as"!==r&&"classes"!==r,_=(0,c.ZP)(u.Z,{shouldForwardProp:r=>N(r)||"classes"===r,name:"MuiLoadingButton",slot:"Root",overridesResolver:(r,t)=>[t.root,t.startIconLoadingStart&&{[`& .${R.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${R.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:r,theme:t})=>(0,i.Z)({[`& .${R.startIconLoadingStart}, & .${R.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},"center"===r.loadingPosition&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${R.loading}`]:{color:"transparent"}},"start"===r.loadingPosition&&r.fullWidth&&{[`& .${R.startIconLoadingStart}, & .${R.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===r.loadingPosition&&r.fullWidth&&{[`& .${R.startIconLoadingStart}, & .${R.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),B=(0,c.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(r,t)=>{let{ownerState:e}=r;return[t.loadingIndicator,t[`loadingIndicator${(0,o.Z)(e.loadingPosition)}`]]}})(({theme:r,ownerState:t})=>(0,i.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{left:"small"===t.size?10:14},"start"===t.loadingPosition&&"text"===t.variant&&{left:6},"center"===t.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(r.vars||r).palette.action.disabled},"end"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{right:"small"===t.size?10:14},"end"===t.loadingPosition&&"text"===t.variant&&{right:6},"start"===t.loadingPosition&&t.fullWidth&&{position:"relative",left:-10},"end"===t.loadingPosition&&t.fullWidth&&{position:"relative",right:-10})),D=a.forwardRef(function(r,t){let e=(0,d.Z)({props:r,name:"MuiLoadingButton"}),{children:a,disabled:o=!1,id:l,loading:c=!1,loadingIndicator:u,loadingPosition:f="center",variant:h="text"}=e,g=(0,n.Z)(e,F),p=(0,s.Z)(l),v=null!=u?u:(0,x.jsx)($,{"aria-labelledby":p,color:"inherit",size:16}),m=(0,i.Z)({},e,{disabled:o,loading:c,loadingIndicator:v,loadingPosition:f,variant:h}),Z=M(m),y=c?(0,x.jsx)(B,{className:Z.loadingIndicator,ownerState:m,children:v}):null;return(0,x.jsxs)(_,(0,i.Z)({disabled:o||c,id:p,ref:t},g,{variant:h,classes:Z,ownerState:m,children:["end"===m.loadingPosition?a:y,"end"===m.loadingPosition?y:a]}))});var T=D},2393:function(r,t,e){"use strict";var n=e(2882),i=e(629),a=e(7906),o=e(1738),s=e(3816),l=e(3252),c=e(295),d=e(7294),u=e(5893);t.Z=function(r){var t=r.dataset,e=r.customHeaders,f=null!=t&&t[0]&&e?e:function(r){if(!r)return[];var t=[];for(var e in r)t.push(e);return t}(t[0]);return(0,d.useEffect)(function(){console.log("\uD83D\uDE80 ~ file: BasicTable.tsx:17 ~ BasicTable ~ headers:",{dataset:t,headers:f})},[t]),(0,u.jsx)(n.Z,{component:i.Z,children:(0,u.jsxs)(a.Z,{"aria-label":"students table",children:[(0,u.jsx)(o.Z,{children:(0,u.jsx)(s.Z,{children:f.map(function(r){return(0,u.jsx)(l.Z,{children:r.toUpperCase()},r)})})}),(0,u.jsx)(c.Z,{children:(null==t?void 0:t.length)&&t.map(function(r,t){return(0,u.jsx)(s.Z,{children:Object.values(r).map(function(r,e){return(0,u.jsx)(l.Z,{children:"string"==typeof r?r:r?"True":"False"},e+"-"+t)})},t)})})]})})}},2593:function(r,t,e){"use strict";var n=e(7191),i=e(3321),a=e(5861);e(7294);var o=e(1163),s=e(1023),l=e(5893);t.Z=function(r){(0,n.Z)(r);var t=(0,o.useRouter)();return(0,l.jsxs)(i.Z,{onClick:function(){return t.back()},sx:{display:"flex",maxWidth:"175px",alignItems:"center"},variant:"outlined",children:[(0,l.jsx)(s.Z,{}),(0,l.jsx)(a.Z,{sx:{mt:"3px",mx:2},children:"Go Back"})]})}},5279:function(r,t,e){"use strict";e.d(t,{Z:function(){return l}});var n=e(7294),i=e(1163),a=e(7029),o=e(5893),s=function(r){var t=r.requiredRole,e=r.children,s=(0,i.useRouter)(),l=(0,a.CG)(function(r){return r.auth.isLoggedIn}),c=(0,a.CG)(function(r){return r.auth.role}),d=(0,a.CG)(function(r){return r.auth.authDone});return(0,n.useEffect)(function(){d&&!l&&s.push(t!==c?"/":"/admin/login")},[d,l,c,t,s]),(0,o.jsx)(o.Fragment,{children:l&&c===t?e:(0,o.jsx)(o.Fragment,{})})},l=function(r,t){var e=function(){return(0,o.jsx)(s,{requiredRole:t,children:(0,o.jsx)(r,{})})};return e.displayName="withProtectedRoute(".concat(r.displayName||r.name||"Component",")"),e}},6961:function(r,t,e){"use strict";e.r(t);var n=e(29),i=e(2640),a=e(7191),o=e(7794),s=e.n(o),l=e(2610),c=e(2393),d=e(2593),u=e(5279),f=e(8987),h=e(3156),g=e(5861),p=e(135),v=e(7294),x=e(5893);function m(r){function t(r){if(Object(r)!==r)return Promise.reject(TypeError(r+" is not an object."));var t=r.done;return Promise.resolve(r.value).then(function(r){return{value:r,done:t}})}return(m=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(r){var e=this.s.return;return void 0===e?Promise.resolve({value:r,done:!0}):t(e.apply(this.s,arguments))},throw:function(r){var e=this.s.return;return void 0===e?Promise.reject(r):t(e.apply(this.s,arguments))}},new m(r)}t.default=(0,u.Z)(function(r){(0,a.Z)(r);var t,e=(0,v.useState)([]),o=e[0],u=e[1],Z=(0,v.useState)([]),y=Z[0],b=Z[1],j=(0,v.useState)(!1),k=j[0],I=j[1],w=(t=(0,n.Z)(s().mark(function r(){var t,e,n,i,a,c,d,u,f,h;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,I(!0),t=[],e=!1,n=!1,r.prev=5,a=function(r){var t,e,n,i=2;for("undefined"!=typeof Symbol&&(e=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(e&&null!=(t=r[e]))return t.call(r);if(n&&null!=(t=r[n]))return new m(t.call(r));e="@@asyncIterator",n="@@iterator"}throw TypeError("Object is not async iterable")}(o);case 7:return r.next=9,a.next();case 9:if(!(e=!(c=r.sent).done)){r.next=25;break}return d=c.value,r.next=13,l.Z.registerStudent({username:d.projectId,password:d.password,year:d.year});case 13:if(console.log("\uD83D\uDE80 ~ file: create-users-from-csv.tsx:56 ~ forawait ~ registerAttemptResult:",u=r.sent),u){r.next=17;break}throw Error("error making students");case 17:if(!(null!=u&&u.error)){r.next=21;break}return f=u.error,h=u.username,t.push({username:h,id:"",password:"",created:!1,error:f}),r.abrupt("continue",22);case 21:t.push({id:u.id,username:u.username,password:u.password,created:!!u,error:"no error"});case 22:e=!1,r.next=7;break;case 25:r.next=31;break;case 27:r.prev=27,r.t0=r.catch(5),n=!0,i=r.t0;case 31:if(r.prev=31,r.prev=32,!(e&&null!=a.return)){r.next=36;break}return r.next=36,a.return();case 36:if(r.prev=36,!n){r.next=39;break}throw i;case 39:return r.finish(36);case 40:return r.finish(31);case 41:b(t),r.next=47;break;case 44:r.prev=44,r.t1=r.catch(0),console.log("\uD83D\uDE80 ~ file: create-users-from-csv.tsx:52 ~ createUsers ~ error:",r.t1);case 47:return r.prev=47,I(!1),r.finish(47);case 50:case"end":return r.stop()}},r,null,[[0,44,47,50],[5,27,31,41],[32,,36,40]])})),function(){return t.apply(this,arguments)});return(0,x.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,x.jsx)(d.Z,{}),(0,x.jsx)(g.Z,{variant:"h4",children:"Create Students From Csv"}),(0,x.jsx)(p.Z,{name:"Csv File Upload",type:"file",inputProps:{accept:".csv"},onChange:function(r){var t=r.target.files;if(t){var e=t[0],n=new FileReader;n.onload=function(r){u(r.target.result.trim().split("\n").splice(1).map(function(r){var t=r.replace("\r","").split(","),e=(0,i.Z)(t,3);return{projectId:e[0],password:e[1],year:e[2]}}))},n.readAsText(e)}}}),null!=o&&o.length?(0,x.jsx)(f.Z,{variant:"contained",loading:k,loadingIndicator:"Loading…",type:"submit",onClick:w,children:"Create Students from csv"}):(0,x.jsx)(x.Fragment,{children:"\xa0"}),null!=o&&o.length?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.Z,{variant:"h4",children:"CSV ROWS"}),(0,x.jsx)(c.Z,{dataset:o})]}):(0,x.jsx)(x.Fragment,{}),null!=y&&y.length?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.Z,{variant:"h4",children:"New Users"}),(0,x.jsx)(c.Z,{dataset:y})]}):(0,x.jsx)(x.Fragment,{})]})},"Admin")},4409:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/students/create-users-from-csv",function(){return e(6961)}])},7191:function(r,t,e){"use strict";function n(r){if(null==r)throw TypeError("Cannot destructure undefined")}e.d(t,{Z:function(){return n}})}},function(r){r.O(0,[135,659,774,888,179],function(){return r(r.s=4409)}),_N_E=r.O()}]);